<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smali String Extractor</title>
<style>
  body { font-family: sans-serif; padding: 20px; background: #f5f5f5; }
  textarea { width: 100%; height: 200px; margin-bottom: 10px; font-family: monospace; }
  button { padding: 10px 20px; cursor: pointer; margin-right: 10px; }
  #output { margin-top: 20px; background: #fff; padding: 10px; border: 1px solid #ccc; max-height: 300px; overflow-y: auto; }
</style>
</head>
<body>

<h2>Smali String Extractor</h2>
<textarea id="smaliInput" placeholder="Paste smali disini..."></textarea>
<br>
<button onclick="extractStrings()">Extract Strings</button>
<button onclick="copyAll()">Copy All</button>

<div id="output"></div>

<script>
let extractedStrings = [];

function extractStrings() {
    const input = document.getElementById('smaliInput').value;
    const regex = /const-string(?:\/jumbo)?\s+\w+,\s+"(.*?)"/g;
    let match;
    extractedStrings = [];

    while ((match = regex.exec(input)) !== null) {
        extractedStrings.push(match[1]);
    }

    const outputDiv = document.getElementById('output');
    if(extractedStrings.length > 0){
        outputDiv.innerHTML = extractedStrings.map(s => `<div>${s}</div>`).join('');
    } else {
        outputDiv.innerHTML = "<i>No strings found</i>";
    }
}

function copyAll() {
    if(extractedStrings.length === 0) return;
    const text = extractedStrings.join('\n');
    navigator.clipboard.writeText(text).then(() => {
        alert("All strings copied to clipboard!");
    });
}
</script>

</body>
</html>
